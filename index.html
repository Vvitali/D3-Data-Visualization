<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>D3 CPCC visualization!</title> 
	<script type="text/javascript" src="./d3/d3.js"></script>
</head>
<body>
	<style type="text/css">
	.data{
		background-color: steelblue;
		padding: 2px;
		margin: 2PX;
	}
	.item{
		color: white;
	}
</style>
<div class="Diagram"></div>
<script type="text/javascript" src="./preparedData.js"></script>
<script type="text/javascript">
	console.log("Start!");
	console.log(preparedData);

	preparedData.sort((a, b)=>{
		if(a.code>b.code){
			return 1;
		}
		if(a.code<b.code){
			return -1;
		}
		if(a.code==b.code){
			return 0;
		}

	})
	d3.select('div.Diagram').selectAll('div').data(preparedData).enter().append('div').attr('class', 'item')
	.append('div').attr('class', 'data').append('span');

	d3.select('div.Diagram').selectAll('div.item').data(preparedData)
	.select('div').style('width', function (d) { return (d.code * 3) + 'px';})
	.select('span').text(function (d) { return d.name+":"+d.code+":"+d.description;});


</script>

</body>
</html>